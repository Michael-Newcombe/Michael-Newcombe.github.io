const unmuteBtn=document.querySelectorAll(".unmute"),muteBtn=document.querySelectorAll(".mute"),videoContainers=document.querySelectorAll(".video-container"),videos=document.querySelectorAll(".ad-video"),onVideoLoad=async()=>new Promise((e,t)=>{videos.forEach(d=>{let n=()=>{d.removeEventListener("loadedmetadata",()=>{e(d)})};d.addEventListener("loadedmetadata",n),d.addEventListener("loadedmetadata",()=>{e(d);let t=d.parentElement,n=t.lastElementChild;n.style.display="none"}),d.addEventListener("error",e=>{t(e)})})}),videoLoaded=async()=>{try{onVideoLoad()}catch(e){console.error("Video load error:",e)}};videoLoaded();const onVideoPlay=(e,t)=>{let d=Math.round(e.currentTime);d>.2&&e.readyState>2&&t.classList.remove("show")},playVideoAd=e=>{e.play();let t=e.parentElement.lastElementChild.previousElementSibling;t.classList.add("show");let d=e.parentElement.children[2];d.style.opacity="1";let n=e.parentElement.children[4];n.classList.add("hide"),e.addEventListener("timeupdate",()=>{onVideoPlay(e,t)}),e.addEventListener("waiting",()=>{t.classList.remove("hide")}),e.addEventListener("ended",()=>{e.load(),n.classList.remove("hide")})};videoContainers.forEach(e=>{e.addEventListener("mouseover",()=>{let t=e.children[1];playVideoAd(t)}),e.addEventListener("mouseleave",()=>{let t=e.children[1];t.pause();let d=t.parentElement.children[4];d.classList.remove("hide");let n=t.parentElement.lastElementChild.previousElementSibling;n.classList.remove("show")})}),unmuteBtn.forEach(e=>{e.addEventListener("click",()=>{e.classList.add("hide"),e.nextElementSibling.classList.remove("hide"),e.parentElement.children[1].muted=!1})}),muteBtn.forEach(e=>{e.addEventListener("click",()=>{e.classList.add("hide"),e.previousElementSibling.classList.remove("hide"),e.parentElement.children[1].muted=!0})});